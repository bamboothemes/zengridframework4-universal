!function($){$.fn.send_ajax=function(e,a,o,t,n,l,s){$.ajax({url:a,method:"post",context:document.body,dataType:"text",data:{option:"com_ajax",plugin:"zengridframework",content:o,action:t,template:e,target:l,name:s,id:n},beforeSend:function(){if(console.log(l+" action triggered"),$("#log pre").append("Save Action -- \n"),$("#log pre").append(l+" action triggered \n"),"layouts"!==l&&"compress"!==l)if(console.log("Check if compile required"),"1"==$("#compile_required").val()){"config"!==s&&jQuery("#zgfmessage span").text(s);var o=$(document).get_theme();$(document).compile_data(e,a,o,"compile","","themes","theme."+s),jQuery("#zgfmessage,#zgfmessage .compile").fadeIn(),console.log("Currently compiling less to css")}else console.log("Compiling not required for this save"),$("#log pre").append("Compile not required \n"),""==n?jQuery("#zgfmessage span").text(s):jQuery("#zgfmessage span").text(n),jQuery("#zgfmessage,#zgfmessage ."+l).fadeIn()},error:function(e){console.log(e),console.log("Error:"+JSON.stringify(e)+"\n"),$("#log pre").append("Error:"+JSON.stringify(e)+"\n")},success:function(o){if("layouts"!==l&&"compress"!==l)if("1"==$("#compile_required").val()){console.log("Checking to see if compiler has finished running"),$("#log pre").append("Checking to see if compiler has finished running. \n");var t=setInterval(function(){if("1"==$("#compile_required").val());else{$("#zgfmessage .compile").hide(),$("#compile_required").val("0"),console.log("Compiler has finished running"),$("#log pre").append("Compiler has finished running. \n"),console.log("Successfully saved "+l+":"+o),$("#log pre").append("Successfully saved "+l+":"+o+"\n");var o=$(document).get_theme(),n=$("#style-name").val();o.theme=n,$(document).send_ajax(e,a,o,"save","","themes","theme."+n),$("#zgf input").each(function(){var e=$(this).val();$(this).attr("data-stored",e),console.log("Set the stored value for all items")}),$("#log pre").append("Set the stored value for all items.\n"),jQuery("#zgfmessage ."+l).fadeIn("normal",function(){jQuery("#zgfmessage,#zgfmessage ."+l).delay(3e3).fadeOut()}),clearInterval(t);var s=$("button.zen-clicked").parent().attr("id");"toolbar-save"==s?(clearInterval(t),Joomla.submitbutton("style.save")):"toolbar-apply"==s&&(clearInterval(t),Joomla.submitbutton("style.apply"))}},1e3)}else{jQuery("#zgfmessage ."+l).fadeIn("normal",function(){jQuery("#zgfmessage,#zgfmessage ."+l).delay(3e3).fadeOut()});var n=$("button.zen-clicked").parent().attr("id");"toolbar-save"==n?(clearInterval(t),Joomla.submitbutton("style.save")):"toolbar-apply"==n&&(clearInterval(t),Joomla.submitbutton("style.apply"))}else{console.log("Successfully saved "+l+":"+o),$("#log pre").append("Successfully saved "+l+":"+o+"\n"),jQuery("#zgfmessage, #zgfmessage ."+l).fadeIn("normal",function(){jQuery("#zgfmessage,#zgfmessage ."+l).delay(3e3).fadeOut()});var n=$("button.zen-clicked").parent().attr("id");"toolbar-save"==n?(clearInterval(t),Joomla.submitbutton("style.save")):"toolbar-apply"==n&&(clearInterval(t),Joomla.submitbutton("style.apply"))}}})}}(jQuery);